{"version":3,"file":"board-component.js","sourceRoot":"","sources":["../../../../src/components/binering/shiraz/board-component.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, html, css, PropertyValueMap } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport './section-component';\nimport { GameStore } from '../store';\nimport gcss from '../globalcss';\nimport { Game } from '../../../types/binering/Game';\nimport { derived, Writable } from 'svelte/store';\nimport { StoreSubscriber } from 'lit-svelte-stores';\nimport './playertype-component';\nimport './map-component';\n@customElement('board-component')\nexport class BoardComponent extends LitElement {\n  game = new StoreSubscriber(this, () => GameStore);\n  firstUpdated() {\n    var map = this.shadowRoot!.getElementById('map');\n\n    map?.addEventListener('dblclick', event => {});\n  }\n  async play_again() {\n    if (this.game.value.game_finished) await this.game.value.startNewGame();\n    else await this.game.value.startNewRound();\n    GameStore.update(val => {\n      val = this.game.value;\n      return val;\n    });\n  }\n  @state()\n  show_map: boolean = true;\n  show_hide_board(e: any) {\n    var section = this.shadowRoot!.getElementById('gamesection');\n    debugger;\n    if (Boolean(e.detail.status) == false) {\n      section?.classList.remove('showgame');\n      section?.classList.add('hidegame');\n    } else {\n      section?.classList.remove('hidegame');\n      section?.classList.add('showgame');\n    }\n  }\n  render() {\n    return html`\n      <map-component\n        @boardStatus=${this.show_hide_board}\n        id=\"map\"\n        .coordination=${this.game.value.locations}\n      ></map-component>\n      <secion id=\"gamesection\" class=\"nonselectable\">\n        <div\n          class=\"${this.game.value.game_finished == true ||\n          this.game.value.round_finished == true\n            ? 'show'\n            : 'hide'}\"\n        >\n          <h4>${this.game.value.looser!}</h4>\n          <button @click=${this.play_again}>\n            ${this.game.value.game_finished\n              ? 'Play new game!'\n              : 'Play new round!'}\n          </button>\n        </div>\n        <playertype-component class=\"nonselectable\"></playertype-component>\n        <div\n          class=\"container ${this.game.value.game_finished == true ||\n          this.game.value.round_finished\n            ? 'gamedisabled'\n            : ''}\"\n        >\n          <div>\n            <section-component\n              class=\"nonselectable\"\n              .playerId=${1}\n            ></section-component>\n          </div>\n          <div>\n            <section-component\n              class=\"nonselectable\"\n              .playerId=${2}\n            ></section-component>\n          </div>\n        </div>\n      </secion>\n    `;\n  }\n  show_map_click() {}\n  connectedCallback() {\n    super.connectedCallback();\n  }\n  static get styles() {\n    return [\n      gcss,\n      css`\n        #bg {\n          position: absolute;\n          top: -5px;\n          left: 0;\n          width: 100%;\n          height: 100%;\n        }\n        #bg iframe {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          margin: auto;\n          min-width: 100%;\n          min-height: 100%;\n          z-index: 0;\n        }\n        div.container {\n          display: grid;\n          grid-template-columns: repeat(2, auto);\n          column-gap: 10rem;\n        }\n        .gamedisabled {\n          pointer-events: none;\n          opacity: 0.5;\n        }\n        .hide {\n          display: none;\n        }\n        .show {\n          display: inline;\n        }\n        button {\n          cursor: pointer;\n          background-color: #c24bcd; /* Green */\n          border: none;\n          color: white;\n          padding: 15px 32px;\n          text-align: center;\n          text-decoration: none;\n          display: inline-block;\n          font-size: 1em;\n          border-radius: 12px;\n          margin-bottom: 25px;\n          -webkit-user-select: none; /* Safari */\n          -moz-user-select: none; /* Firefox */\n          -ms-user-select: none; /* IE10+/Edge */\n          user-select: none; /* Standard */\n        }\n        .data {\n          background-color: silver;\n          font-size: 0.7em;\n          background-color: #891d1d;\n          color: #fff3e3;\n          margin-bottom: 1.5em;\n          padding: 0.4em;\n          overflow: auto;\n          border-radius: 12px;\n          opacity: 0.8;\n        }\n\n        .location {\n          text-decoration: none;\n          color: whitesmoke;\n        }\n        .showmap {\n          font-size: 0.7em;\n          font-family: 'courier', 'sans-serif', 'Serif';\n          margin-top: -50px;\n        }\n\n        .hidegame {\n          //visibility: visible;\n          display: none;\n        }\n        .showgame {\n          //visibility: hidden;\n          display: inline;\n        }\n        .nonselectable {\n          -webkit-user-select: none; /* Safari */\n          -moz-user-select: none; /* Firefox */\n          -ms-user-select: none; /* IE10+/Edge */\n          user-select: none; /* Standard */\n        }\n      `,\n    ];\n  }\n}\n"]}