{"version":3,"file":"trash-component.js","sourceRoot":"","sources":["../../../../src/components/binering/shiraz/trash-component.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, html, css, PropertyValueMap } from 'lit';\nimport { state, customElement, property } from 'lit/decorators.js';\n\nimport cssg from '../globalcss';\nimport { GameStore } from '../store';\nimport { Trash, Color } from '../../../types/binering/Trash';\nimport { Player } from '../../../types/binering/Player';\nimport { tsGenerator } from '@type-craft/content';\nimport { Game } from '../../../types/binering/Game';\nimport { StoreSubscriber } from 'lit-svelte-stores';\nimport { until } from 'lit/directives/until.js';\n\n@customElement('trash-component')\nexport class TrashComponent extends LitElement {\n  @state()\n  playerId!: number;\n\n  game = new StoreSubscriber(this, () => GameStore);\n  private get trash() {\n    return this.game.value.players[this.playerId!].trash;\n  }\n\n  render() {\n    var _divValue = '';\n    if (this.trash!.selectedCard == Color.NotSelected) {\n      if (this.game.value.players[this.playerId].isComputer == false)\n        _divValue = 'Drag card here!';\n      else _divValue = '?';\n    } else if (this.trash!.selectedCard == Color.True) {\n      _divValue = '1';\n    } else {\n      _divValue = '0';\n    }\n    return html`\n      <div class=\"score shadow\">\n        Total Score: ${this.game.value.getScore(this.playerId)}\n      </div>\n      <div\n        @dragenter=${this.dragEntered}\n        @dragend=${this.dragEnded}\n        @dragleave=${this.dragleaved}\n        @drop=${this.droped}\n        @dragover=${this.dragovered}\n        class=\"trashbox shadow ${this.classSelector()}\"\n      >\n        ${this.game.value.players[this.playerId].turn == true\n          ? html`<div class=\"turn \">Your Turn!</div>`\n          : ''}\n\n        <div class=\"value\">${_divValue}</div>\n\n        <div class=\"name\">${this.game.value.players[this.playerId!].name}</div>\n      </div>\n      <div class=\"coordination shadow nonselectable\">\n        <span>${this.player.isLatitute ? 'Latitude: ' : 'Longitude: '}</span>\n        <span>${this.player.get_location()}</span>\n      </div>\n    `;\n  }\n\n  show_coordination() {\n    return this.trash?.selectedCard == Color.NotSelected ? 'hide' : 'show';\n  }\n\n  private get player() {\n    return this.game.value.players[this.playerId!];\n  }\n  dragovered(e: any) {\n    if (\n      this.game.value.players[this.playerId!].can_card_removable(\n        e.dataTransfer.types.toString()\n      )\n    ) {\n      e.preventDefault();\n    }\n  }\n  dragEntered(e: any) {\n    this.style.opacity = '0.4';\n  }\n  dragEnded(e: any) {\n    this.style.opacity = '1';\n  }\n  dragleaved(e: any) {\n    this.style.opacity = '1';\n  }\n  async droped(e: any) {\n    await this.game.value.players[this.playerId].remove_card(\n      e.dataTransfer.types\n    );\n    this.style.opacity = '1';\n    GameStore.update(val => {\n      val = this.game.value;\n      return val;\n    });\n  }\n  classSelector() {\n    if (this.trash!.selectedCard == Color.NotSelected) {\n      return 'notdefnied';\n    } else if (this.trash!.selectedCard == Color.True) {\n      return 'one';\n    } else {\n      return 'zero';\n    }\n  }\n\n  static get styles() {\n    return [\n      cssg,\n      css`\n        .name {\n          margin-top: -0.2em;\n          font-size: 0.4em;\n          color: white;\n        }\n        .score {\n          font-size: 0.8em;\n          align-items: left;\n          width: 200px;\n          padding: 0.5em;\n          background-color: #353837;\n          color: white;\n          margin-bottom: -1px;\n          border-top-right-radius: 50px;\n          text-align: left;\n        }\n        .trashbox {\n          height: 120px;\n          width: 200px;\n          margin-right: 50px;\n          color: white;\n          font-size: 2em;\n          align-items: center;\n          align-items: center;\n          text-align: center;\n          -webkit-user-select: none; /* Safari */\n          -moz-user-select: none; /* Firefox */\n          -ms-user-select: none; /* IE10+/Edge */\n          user-select: none; /* Standard */\n        }\n        .notdefnied {\n          background-color: gray;\n        }\n        .notdefnied div:nth-last-child(2) {\n          padding-top: 0.5em;\n          padding-bottom: 0.5em;\n          font-family: Arial, Helvetica, sans-serif;\n          font-size: 0.4em;\n          color: orange;\n        }\n\n        /* .notdefnied .value {\n          font-size: 0.7em;\n        } */\n        .one {\n          background-color: blue;\n        }\n        .zero {\n          background-color: red;\n        }\n        .shadow {\n          -moz-box-shadow: 5px 5px 5px 5px #ccc;\n          -webkit-box-shadow: 5px 5px 5px 5px #ccc;\n          box-shadow: 5px 5px 5px 5px #ccc;\n        }\n        .turn {\n          font-size: 0.4em;\n          background-color: #23303e;\n          opacity: 0.8;\n          animation: blinker 1s linear infinite;\n        }\n        @keyframes blinker {\n          50% {\n            opacity: 0.3;\n          }\n        }\n        .show {\n          visibility: visible;\n        }\n\n        .hide {\n          visibility: hidden;\n        }\n        .coordination {\n          font-size: 0.6em;\n          align-items: left;\n          width: 200px;\n          background-color: #353837;\n          color: white;\n          margin-bottom: 5px;\n          padding: 0.8rem;\n          text-align: right;\n          border-bottom-left-radius: 50px;\n          font-family: Arial, Helvetica, sans-serif;\n        }\n      `,\n    ];\n  }\n}\n"]}