{"version":3,"file":"game-detail.js","sourceRoot":"","sources":["../../../../src/components/binering/shiraz/game-detail.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AACvC,OAAO,EAAE,KAAK,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAMnE,OAAO,EAAE,eAAe,EAAE,MAAM,6BAA6B,CAAC;AAC9D,OAAO,EAAE,cAAc,EAAE,mBAAmB,EAAE,MAAM,mBAAmB,CAAC;AAExE,OAAO,iCAAiC,CAAC;AACzC,OAAO,gCAAgC,CAAC;AACxC,OAAO,oCAAoC,CAAC;AAGrC,IAAM,UAAU,GAAhB,MAAM,UAAW,SAAQ,UAAU;IAaxC,KAAK,CAAC,YAAY;QAChB,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAC1C,CAAC,CAAgB,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,KAAK,UAAU,CAC9C,CAAC;QAEH,IAAI,CAAC,KAAK,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;YAC5C,UAAU,EAAE,IAAI;YAChB,OAAO,EAAE,QAAQ,CAAC,OAAO;YACzB,SAAS,EAAE,QAAQ;YACnB,OAAO,EAAE,UAAU;YACnB,OAAO,EAAE,IAAI,CAAC,SAAS;YACvB,UAAU,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;SAChC,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACf,OAAO,IAAI,CAAA;;;;aAIJ,CAAC;SACT;QACD,OAAO,IAAI,CAAA;;;;mBAII,IAAI,CAAC,KAAK,CAAC,KAAK;;;;mBAIhB,IAAI,CAAC,KAAK,CAAC,OAAO;;;;KAIhC,CAAC;IACJ,CAAC;CACF,CAAA;AAhDC;IADC,QAAQ,EAAE;6CACQ;AAGnB;IADC,KAAK,EAAE;yCACgB;AAGxB;IADC,eAAe,CAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;gDACtB;AAG5B;IADC,eAAe,CAAC,EAAE,OAAO,EAAE,cAAc,EAAE,CAAC;2CAClB;AAXhB,UAAU;IADtB,aAAa,CAAC,aAAa,CAAC;GAChB,UAAU,CAkDtB;SAlDY,UAAU","sourcesContent":["import { LitElement, html } from 'lit';\nimport { state, customElement, property } from 'lit/decorators.js';\nimport {\n  InstalledCell,\n  AppWebsocket,\n  InstalledAppInfo,\n} from '@holochain/client';\nimport { contextProvided } from '@holochain-open-dev/context';\nimport { appInfoContext, appWebsocketContext } from '../../../contexts';\nimport { Game } from '../../../types/binering/shiraz';\nimport '@material/mwc-circular-progress';\nimport '@type-craft/title/title-detail';\nimport '@type-craft/content/content-detail';\n\n@customElement('game-detail')\nexport class GameDetail extends LitElement {\n  @property()\n  entryHash!: string;\n\n  @state()\n  _game: Game | undefined;\n\n  @contextProvided({ context: appWebsocketContext })\n  appWebsocket!: AppWebsocket;\n\n  @contextProvided({ context: appInfoContext })\n  appInfo!: InstalledAppInfo;\n\n  async firstUpdated() {\n    const cellData = this.appInfo.cell_data.find(\n      (c: InstalledCell) => c.role_id === 'binering'\n    )!;\n\n    this._game = await this.appWebsocket.callZome({\n      cap_secret: null,\n      cell_id: cellData.cell_id,\n      zome_name: 'shiraz',\n      fn_name: 'get_game',\n      payload: this.entryHash,\n      provenance: cellData.cell_id[1],\n    });\n  }\n\n  render() {\n    if (!this._game) {\n      return html`<div\n        style=\"display: flex; flex: 1; align-items: center; justify-content: center\"\n      >\n        <mwc-circular-progress indeterminate></mwc-circular-progress>\n      </div>`;\n    }\n    return html`\n      <div style=\"display: flex; flex-direction: column\">\n        <span style=\"font-size: 18px\">Game</span>\n        <title-detail\n          .value=${this._game.title}\n          style=\"margin-top: 16px\"\n        ></title-detail>\n        <content-detail\n          .value=${this._game.content}\n          style=\"margin-top: 16px\"\n        ></content-detail>\n      </div>\n    `;\n  }\n}\n"]}